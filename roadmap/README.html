<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>readme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="README_files/libs/clipboard/clipboard.min.js"></script>
<script src="README_files/libs/quarto-html/quarto.js"></script>
<script src="README_files/libs/quarto-html/popper.min.js"></script>
<script src="README_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="README_files/libs/quarto-html/anchor.min.js"></script>
<link href="README_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="README_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="README_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="README_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="README_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="README_files/libs/quarto-diagram/mermaid.min.js"></script>
<script src="README_files/libs/quarto-diagram/mermaid-init.js"></script>
<link href="README_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="projet-groupe-4" class="level1">
<h1>Projet Groupe 4</h1>
</section>
<section id="projet-groupe-pollution-en-occitanie-groupe-4" class="level1">
<h1>Projet Groupe Pollution en Occitanie groupe 4</h1>
<section id="environnement" class="level2">
<h2 class="anchored" data-anchor-id="environnement">Environnement</h2>
<p>Pour ce projet, nous allons avoir besoin d’un environnement contenant:</p>
<ul>
<li><strong>Python</strong>;</li>
<li><strong>Pandas</strong> pour la manipulation de données;</li>
<li><strong>Plotly</strong> pour la modélisation des données;</li>
<li><strong>Dash</strong> pour rendre les légendes des graphiques et des cartes intéractives;</li>
<li><strong>Pytest</strong> pour éliminer un maximum de bug possibles dans nos codes;</li>
<li><strong>Pooch</strong>.</li>
</ul>
<p>L’objectif est de représenter l’évolution des différents types de polluants en Occitanie durant 3 périodes différentes.</p>
<p>Par exemple, on s’intéresse à l’évolution durant les 5 dernières années. Pour cela, on utilise une base de données comportant uniquement la valeur moyenne de l’année de chaque polluant pour un bon nombres de villes, réparties équitablement dans chaque département en Occitanie.</p>
<p>Pour modéliser cela, on va d’abord utiliser la bibliothèque Pandas afin d’ouvrir la base de données qui est un fichier csv avec la commande panda.read_csv(“chemin/de/la/base/de/donnée.csv”). Ensuite on utilise l’environnement plotly afin de créer de beaux graphiques. On choisit de modéliser l’évolution moyenne par an des différents types de polluants au cours des 5 dernières années par départements dans certaines villes. Enfin, afin de rendre le site intéractif, on utilise l’environnement dash qui va nous permettre de créer un fichier html regroupant nos graphiques et de sélectionner le département que l’on veut afficher.</p>
</section>
<section id="objectif" class="level2">
<h2 class="anchored" data-anchor-id="objectif">Objectif</h2>
<p>L’objectif est de créer un site contenant une carte interactive permettant de voir la pollution en Occitannie à une période donnée. Cette carte devra être lisible et facilement interprétable. Les données sont extraites du site <a href="https://data-atmo-occitanie.opendata.arcgis.com/pages/liste-des-flux">Atmo Occitanie</a> et concerneront la pollution de l’air, notamment les particules en suspension, les particules fines et le dioxyde d’azote.</p>
</section>
<section id="feuille-de-route" class="level2">
<h2 class="anchored" data-anchor-id="feuille-de-route">Feuille de route</h2>
<p>Pour atteindre notre objectif, nous avons divisé le travail de la facon suivante:</p>
<section id="diagramme-de-gantt" class="level3">
<h3 class="anchored" data-anchor-id="diagramme-de-gantt">Diagramme de Gantt</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<pre class="mermaid mermaid-js">    gantt
        dateFormat YYYY-MM-DD
        title Diagramme de Gantt pour les avancées du projet
        
        section Pierre
            Familiatisation avec quarto  : done,     2023-10-01, 2023-10-07
            Création ébauche du site : done,   2023-10-07, 2023-10-14
            Aspect interactif de la carte : crit,         2023-10-14, 2023-12-10
            Rendre la carte cliquable par departements : crit,  2023-10-14, 2023-10-28
            Pollution sur les cartes selon légende : crit, 2023-10-28, 2023-11-18
            
        section Guillaume
            Création du site  : done,     2023-10-01, 2023-10-23
            Elaboration du site : crit,         2023-10-23, 2023-12-10
            Evolution pollution\ pop par année: crit,    2023-10-23, 2023-11-15
            Partie villes: crit,  2023-11-16, 2023-12-10
            
        section Maxence
            Recherche concernant le projet : done,     2023-10-01, 2023-10-23
            Création des classes : crit,         2023-10-23, 2023-11-12
            Interprétation des données avec météo (?) : crit, 2023-11-12, 2023-12-10
            
        section Quentin
            Sélection des données : done,     2023-10-01, 2023-10-23
            Création des graphiques : crit,         2023-10-23, 2023-11-10
            Insertion des graphiques dans le site et interprétation : crit,         2023-11-10, 2023-12-10
            
        section Groupe
            Préparation présentation orale avec slides Quarto : crit, 2023-11-18, 2023-12-10
        
        section Evaluation
            Présentation projet : active, milestone,     2023-10-23, 2023-10-23
            Dépôt projet : milestone,     2023-12-10, 2023-12-10
            Présentation orale : milestone,     2023-12-15, 2023-12-15

</pre>
</div>
</div>
</div>
</div>
</section>
<section id="branches" class="level3">
<h3 class="anchored" data-anchor-id="branches">Branches</h3>
<p>Pour ne pas déranger nos travaux respectifs, nous feront évoluer le projet à l’aide de plusieurs branches:</p>
<ul>
<li>“site” qui sera attribuée à toutes les modifications concernant le site;</li>
<li>“plot” specifique aux graphiques;</li>
<li>“carte” pour manipuler celles-ci.</li>
</ul>
</section>
<section id="visuel" class="level3">
<h3 class="anchored" data-anchor-id="visuel">Visuel</h3>
<p><img src="https://github.com/guibouland/GroupProject/tree/main/images/objectifSchema.png" class="img-fluid"></p>
</section>
</section>
<section id="site-web" class="level2">
<h2 class="anchored" data-anchor-id="site-web">Site Web</h2>
<p>Le site internet de ce projet est disponible à l’URL suivante: <a href="https://guibouland.github.io/GroupProject/">https://guibouland.github.io/GroupProject</a>.</p>
<section id="contents" class="level3">
<h3 class="anchored" data-anchor-id="contents">Contents</h3>
<p>Il comportera une page principale d’accueil, qui comprtera une carte interactive de toute la région Occitanie ainsi qu’un graphique lui aussi interactif qui traitera des différents polluants dans les 13 départements. vous pourrez retirer des départements et choisir les polluants que vous voulez.</p>
<p>Ensuite, dans la barre de navigation vous pouvez déjà trouver un menu déroulants nommé “Départements”, contenant les 13 départemetns de la région Occitanie. Le but est, pour chaque département, de déployer une carte zoomable de la pollution selon divers polluants, ainsi qu’un graphique interactif sur les 5 dernières années de l’évolution de la concentration des différents polluants dans le département. La carte de la page d’accueil devra être cliquable et renvoyer vers les pages des départements respectifs. Nous souhaitons aussi ajouter une rubrique “À propos”, qui contiendra un résumé sur comment prendre en main le site, parler du projet en général et donner nos sources.</p>
<p>Vous trouverez aussi une page “Villes”. Nous souhaitons voir l’état de la pollution en milieu ultra-urbain dans les 3 plus grandes villes de la région pour se rendre compte de la différence avec un milieu plus rural, tout cela à travers un graphique interactif comparant les taux de pollution, selon les polluants, dans ces 3 grandes villes, comparées à la moyenne régionale.</p>
<p>En bonus, nous aimerions faire un lien avec les projets personnels, en évoquant, si il existe, un lien entre les conditions météorologiques et la pollution dans la région. Cela sera réalisé seulement si nous parvenons à finir à temps nos précédents objectifs.</p>
</section>
<section id="features" class="level3">
<h3 class="anchored" data-anchor-id="features">Features</h3>
<p>Dans la barre de navigation, à droite, il existe une petite icone renvoyant directement au repository de ce projet. En bas de la page, vous trouverez aussi un lien renvoyant vers le code source et la page pour évoquer d’éventuels problèmes.</p>
</section>
</section>
<section id="choix-des-données" class="level2">
<h2 class="anchored" data-anchor-id="choix-des-données">Choix des données</h2>
<p>Les données du site <a href="https://data-atmo-occitanie.opendata.arcgis.com/pages/liste-des-flux">Atmo Occitanie</a> sont nombreuses et ne nous seront pas toutes utiles. Nous allons donc utiliser les suivantes:</p>
<ul>
<li>Les données de 2020 année du covid.</li>
<li>les données concernant l’évolution durant les 5 dernières années. Pour cela on utilise une base de donnée comportant uniquement la valeur moyenne de l’année de chaque polluant pour un bon nombres de villes, réparties équitablement dans chaque départements en Occitanie.</li>
<li>Les données sur l’année actuelle, plus précisemment le dernier mois.</li>
</ul>
</section>
<section id="concernant-ce-repository" class="level2">
<h2 class="anchored" data-anchor-id="concernant-ce-repository">Concernant ce repository</h2>
<p>Nous avons eu un problème lors du déploiement de notre site au public, ce qui nous a contraint à devoir changer de repository pour repartir sur des bases plus saines, d’où l’inégalité entre certains commits. Si vous voulez en revanche consulter les commit fait avant ce retournement de situation vous pouvez le faire via <a href="https://github.com/guibouland/ProjetGroupe.git">ce repository</a>.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>